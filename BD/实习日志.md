## 5/15（入职）

### 1. node版本管理器NVM

用于对不同项目所需要不同版本的node.js时的切换

**常见的指令**：

```
# 查看 nvm 版本：
nvm -v

# 打开nodejs版本控制
nvm on

# 关闭nodejs版本控制
nvm off

# 查看可下载的 nodejs 版本：
nvm list available 

# 下载指定版本的 nodejs：
nvm install [nodejs版本号] # 如 nvm install 16.20.0

# 卸载指定版本的 nodejs：
nvm uninstall [nodejs版本号] # 如 nvm uninstall 16.20.0

# 查看系统上已安装的 nodejs 版本：
nvm ls

# 切换目前使用的 nodejs 版本：
nvm use [nodejs版本号] # 如 nvm use 16.20.0

# 切换到最新版：
nvm use node

# 直接运行特定版本的 Node
nvm run [nodejs版本号] --version # 如 nvm run 16.20.0 --version

# 想了解更多指令可通过 nvm help 指令查看

```

## 5/16

### vue2模版过滤器  “ | ”

```vue
{{ message | capitalize }}//后者是一个函数

filters: {
    capitalize: function (value) {
      if (!value) return ''
      value = value.toString()
      return value.charAt(0).toUpperCase() + value.slice(1)
    }
```

## 5/20

安装**Axure**插件来看原型图

## 5/26

1. 配置项目环境。主要是node版本和nvm版本的问题。目前的1.2.2版本nvm好像不能通过命令行来自动安装node14 - 版本，只能手动从官网下载，。在解压安装包后，生成的文件夹要重命名（以 v  开头，不然nvm管理不了，就这一步搞了好久）
2. 项目克隆新来的时候可能install不了，只好删掉，在一个空的文件夹里面通过vscode重新clone下来，就能正常install了。

## 5/28

vue2 的路由跳转问题，一开始直接用router.push加路径，发现页面改变但是浏览器的路由地址没有改变。用完整的路由路径就解决了。（同层级的路由间的跳转）

```vue
this.$router.push({
     path: 'detail'
    })
```

## 5/30

在vue里面，有时候需要用到展开运算符来创建新的对象，确保vue能够检测到变化，以实现响应式更新

```vue
this.nameVisibilityMap = {...this.nameVisibilityMap，[userId]: !this.nameVisibilityMap[userId]}


<img src="@/static/img/icons/eye.png" alt="当前姓名可见" class="see_icon" v-if="getNameVisibility(item.id)" @click="showUserName(index)" />
```

## 6/4

git 切换分支记得要把不需要提交的修改撤回再切分支，不然会把未提交的代码合并到切换后的分值中，产生代码冲突

新clone下来的项目，可能只出现.git 文件，只要切换了分支就能查看完整的项目文件了

## 6/17

在标签里面使用方法时，如果除了默认参数，还要自定义参数的话，要用箭头函数

```vue
@confirm="(e) => confirm('specialStatus', e)"
```

同时要注意参数的顺序

在具体的方法实现中可以不写默认参数

## 6/25

有时候为了防止内边距的潜在影响导致子元素在设置宽高时影响了其他元素的宽高，可以用下面的属性去防止元素被压缩。

```css
 flex-shrink: 0;
```

## 7/4

flex布局中的子元素换行

```css
display: flex;
align-items: center;
margin-top: auto;
flex-wrap: wrap;
/* 允许子元素换行 */
```

## 7/7

git撤销提交

```
git reset HEAD~1
```

## 7/9

在项目中编写css类时尽可能不要使用data-的形式去指定特定的元素，否则在打包时会出现部署后的样式与本地样式不一致。

 

## 7/10

可以自定义一个scss文件，里面存放一些使用频率高的单独的样式类

在app.vue 中全局使用

```css
@use "@/assets/css/base.scss" as base;
```

```css
$colors: (
  'white': #fff,
  'black': #4c4c4c,
  'gray': #9c9c9c,
  'green': #3ea732,
  'blue': #63a6c9,
  'red': #E64141,
  'orange': #F6AE30,
  'success': #67C23A,
  'warning': #E6A23C,
  'danger': #F56C6C,
  'info': #909399,
);
$bgColors: (
  'white': #fff,
  'black': #000,
  'gray': #ddd,
  'efeff1': #efeff1,
  'blue': #598bad,
  'inner': #F4F7F9,
  'green':#70b603
);

// color
@each $colorType, $color in $colors {
  .color-#{$colorType} {
    color: $color;
  }
}

//background-color
@each $bgColorsType, $bgColors in $bgColors {
  .bg-#{$bgColorsType} {
    background-color: $bgColors;
  }
}

@for $index from 1 through 40 {
  // width
  .w#{$index*10} {
    width: #{$index * 10}px;
  }
  // max-width
  .max-w#{$index*10} {
    max-width: #{$index * 10}px;
  }
}

@for $index from 1 through 20 {
  // 宽度百分比
  .pct#{$index * 5} {
    width: #{$index * 5%};
  }
  @if $index > 4 {
    // width
    .w#{$index*20}i {
      width: #{$index * 20}px!important;
    }
  }
  // height
  .h#{($index - 1)*20 + 100} {
    height: #{($index - 1) * 20+100}px;
  }

  // min-height
  .mh#{$index*20} {
    min-height: #{$index * 20}px;
  }

  // font-size
  .f#{$index*2 + 10} {
    font-size: #{$index * 2+10}px;
  }

  // line-height
  .lh#{$index*2 + 10} {
    line-height: #{$index * 2+10}px;
  }

  // vertical-align
  .vn#{$index - 10} {
    vertical-align: #{$index - 10}px;
  }

  // border-radius
  @if $index < 5 {
    .border-radius-#{$index * 2} {
      border-radius: #{$index * 2}px;
    }
  }
}
@for $index from 2 through 9 {
  .fw#{($index - 1) * 100} {
    font-weight: #{($index - 1) * 100};
  }
}

// margin padding
@for $index from 1 through 11 {
  .m#{($index - 1) * 5} {
    margin: #{($index - 1) * 5}px;
  }
  .ml#{($index - 1) * 5} {
    margin-left: #{($index - 1) * 5}px;
  }
  .mr#{($index - 1) * 5} {
    margin-right: #{($index - 1) * 5}px;
  }
  .mt#{($index - 1) * 5} {
    margin-top: #{($index - 1) * 5}px;
  }
  .mb#{($index - 1) * 5} {
    margin-bottom: #{($index - 1) * 5}px;
  }
  .p#{($index - 1) * 5} {
    padding: #{($index - 1) * 5}px;
  }
  .pl#{($index - 1) * 5} {
    padding-left: #{($index - 1) * 5}px;
  }
  .pr#{($index - 1) * 5} {
    padding-right: #{($index - 1) * 5}px;
  }
  .pt#{($index - 1) * 5} {
    padding-top: #{($index - 1) * 5}px;
  }
  .pb#{($index - 1) * 5} {
    padding-bottom: #{($index - 1) * 5}px;
  }
}

/* flex：定义布局为盒模型 */
/* flex-v：盒模型垂直布局 */
/* flex-1：子元素占据剩余的空间 */
/* flex-center-y：子元素垂直居中 */
/* flex-center-x：子元素水平居中 */
/* flex-center-t：子元素顶部对齐 */
/* flex-right-x：子元素水平右对齐 */
.flex {
  display: flex;
  &-wrap {
    flex-wrap: wrap;
  }
  &-vertical {
    flex-direction: column;
  }
  &-1 {
    flex: 1;
  }
  &-center-y {
    align-items: center;
  }
  &-top-y {
    align-items: start;
  }
  &-center-x {
    justify-content: center;
  }
  &-right-x {
    justify-content: flex-end;
  }
  &-space-between {
    justify-content: space-between;
  }
  &-space-around {
    justify-content: space-around;
  }
  &-space-evenly {
    justify-content: space-evenly;
  }
  &-shrink {
    flex-shrink:0;
  }
  &-align-items-end {
    align-items: flex-end;
  }
  &-align-items-start {
    align-items: flex-start;
  }
}

.pct32{ width: 32%; }
.pct33{ width: 33.333333%; }
.pct66{ width: 66.666666%; }
.pct100i{ width: 100%!important }
.lh1i{ line-height: 1!important; }
/* position */
.rel {
  position: relative;
}
.abs {
  position: absolute;
}

/* 清除浮动 */
.clearfix:before,
.clearfix:after {
  content: '';
  clear: both;
  display: table;
}

.fb {
  font-weight: bold;
}
.fn {
  font-weight: normal;
}
.t-indent {
  text-indent: 2em;
}

/* text-align */
.tc {
  text-align: center;
}
.tr {
  text-align: right;
}
.tl {
  text-align: left;
}

/* float */
.fl {
  float: left;
}
.fr {
  float: right;
}

/* 单行文字溢出虚点显 示*/
.ell {
  text-overflow: ellipsis;
  white-space: nowrap;
  overflow: hidden;
  word-break: break-all;
}
/* 2行文字溢出虚点显 示*/
.ell2 {
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  line-clamp: 2;
  -webkit-box-orient: vertical;
}

/* 基于display: table-cell的自适应布局 */
.r-cell {
  display: table-cell;
  width: 2000px;
}

.vm {
  vertical-align: middle;
}
.vt {
  vertical-align: top;
}

.hide {
  display: none;
}
.inline {
  display: inline-block;
}
.block {
  display: block;
}
.of {
  overflow: hidden;
}
.of-auto {
  overflow: auto;
}
.scrollY {
  overflow-y: auto;
  overflow-x: hidden;
}
.nowrap {
  white-space: nowrap;
}
.tab-pane.active {
  display: block;
}
.tab-pane {
  display: none;
  clear: both;
}
.rotate180 {
  transform: rotate(180deg);
}
.rotate-90 {
  transform: rotate(-90deg);
}
.rotate90 {
  transform: rotate(90deg);
}
.transiform {
  transition: all 0.2s 0s ease;
}
.m-auto {
  margin-left: auto;
  margin-right: auto;
}
.pointer {
  cursor: pointer;
}
.rem {
  font-size: 1rem;
}
.box-shadow {
  box-shadow: 1px 3px 27px 0 rgba(131, 136, 142, 0.3);
}
.border {
  border: 1px solid #e4e7ed;
}
.scale {
  transition: all 0.2s;
  &:hover {
    transform: scale(1.1);
  }
}
/* 蓝色字段 */
.field-blue {
  color: #8ab9d0;
}
/* 绿色字段 */
.field-green {
  color: #74f7ff;
}
/* 绿色字段 */
.field-green1 {
  color: #26e8ff;
}
/* 绿色字段 */
.field-green2 {
  color: #92e0f8;
}
/* 黄色字段 */
.field-yellow {
  color: #ffdb9b;
}
/* 红色字段 */
.field-red {
  color: #ff6f66;
}
/* 橙色 */
.field-orange {
  color: #f59a23;
}

.toggle-button {
  width: 60px;
  height: 25px;
  border-radius: 20px;
  background-color: #ccc; /* 默认灰色 */
  padding-left: 25px;
  cursor: pointer;
  color: white;
  font-size: 14px;
  transition: background-color 0.3s;
  position: relative;
  &::after{
    content: '';
    position: absolute;
    width: 23px;
    height: 23px;
    border-radius: 50%;
    background-color: #fff;
    left: 1px;
    top: 1px;
    transition: all 0.1s ease-in;
  }
  &.active{
    background-color: #0099ff; /* 蓝色 */
    padding-left: 5px;
    &::after{
      width: 23px;
      height: 23px;
      border-radius: 50%;
      background-color: #fff;
      left: 36px;
      top: 1px;
    }
  }
  span{
    pointer-events: none; /* 禁止文字触发点击事件 */
  }
}

```

## 7/11

开发环境（dev）和生产环境（build）的判断

```js
let isDev = ref(import.meta.env.DEV)//运行pnpm dev时该值为true，当前环境为开发环境
```

清理浏览器缓存

```js
sessionStorage.setItem('appStore', null)
location.reload()
```

## 7/14

地图数据工具

```
https://datav.aliyun.com/portal/school/atlas/area_selector
```

## 7/15

vue项目的环境配置文件 .env

配置好的变量会被注入到 `process.env` 对象中

```js
console.log(process.env.VUE_APP_API_URL); // 输出配置的接口地址
```

```env
.env.development
# 开发环境配置
NODE_ENV = development  # 标识环境（Vue 会自动设置，可省略）
VUE_APP_API_URL = http://localhost:3000/api  # 本地开发接口
VUE_APP_DEBUG = true  # 开发时开启调试模式 ， 布尔值会被解析为字符串，需在代码中转换

.env.production
# 生产环境配置
NODE_ENV = production
VUE_APP_API_URL = https://prod.api.com/api  # 线上接口
VUE_APP_DEBUG = false
```

自定义指令

```vue
<script setup>
//要符合命名规范
//import { myDirective as vMyDirective } from './MyDirective.js'或者重命名
const vMyDirective = {
  beforeMount: (el) => {
    // 在元素上做些操作
  }
}
</script>
<template>
  <h1 v-my-directive>This is a Heading</h1>
</template>
```

css选择器

```
.box p//后代选择器,选择class为box的元素内部的所有p元素
.box > p //子选择器,只能选择class为box的元素的直接子元素中的p元素
.box + p//相邻兄弟选择器,选择紧跟在class为box的元素后面的同级p元素
```

css外边距规范

当两个垂直方向的外边距相遇时，它们会合并成一个外边距，而合并后的外边距的高度等于两个发生合并的外边距的最大值，而不是两者的总和。

邮件的写法

```HTML
<a href=”mailto:love@baidu.com”>love@baidu.com</a>
```

## 7/16

在app.vue里面导入scss文件的时候，尽量不要在scoped范围内导入，另外再起一个style

```css
<style lang="scss">
@use '@/assets/base' as base;
@use '@/assets/theme' as theme;
</style>
```

在pinia中钩子函数不会生效，所以初始化的时候直接在变量中调用缓存就好

```js
const theme = ref(localStorage.getItem('theme') || 'light')
```

## 7/18

给出 font-size 时，未定义 font-size 的子元素的字体大小按照 * 的定义，优先级高于继承的 font-size

文本会识别出浮动元素并且围绕浮动元素排布

## 7/21

#### figma汉化版下载网站

```
https://www.figma.cool/cn
```

#### icon在线设计网站

```
https://icon.kitchen/
https://logofa.st/
```
#### app图标网站

https://appicons.co/?ref=pushkeen

#### 插画网站

```
https://undraw.co/illustrations
https://vectorcraftr.com
```

## 7/22

挂了VPN记得在电脑关机前先退出VPN

## 7/31

根据环境来更换开发过程中的URL

```js
location.href = `${process.env.NODE_ENV === 'development' ? 'http://10.19.153.141:23080' : location.origin}/sso/logout?accessToken=${ticket}&redirect_uri=${location.origin}/bycdcs/`
```

## 8/18

#### vue.config.js自定义配置

```js
module.exports = {
  // 开发服务器配置
  devServer: {
    host: 'localhost', // 自定义主机名（可改为 '127.0.0.1' 或本机IP如 '192.168.1.100'）
    port: 8081,        // 自定义端口号（如8081、3000等，确保端口未被占用）
    open: true         // 启动后自动在浏览器打开（可选）
  }
}

```

#### vite.config.js自定义配置

```js
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'

export default defineConfig({
  server: {
    host: '0.0.0.0', // 允许局域网访问
    port: 3000,
    strictPort: true, // 端口被占用时抛错（默认：自动切换）
    https: false, // 是否启用 HTTPS（需配置证书）
    open: '/login', // 启动后自动打开指定路径
    proxy: { // 接口代理（解决跨域）
      '/api': {
        target: 'http://localhost:8080', // 后端接口地址
        changeOrigin: true, // 跨域时修改 Origin
        rewrite: (path) => path.replace(/^\/api/, '') // 去掉路径中的 /api 前缀
      }
    },
    cors: true, // 允许跨域请求
    hmr: true // 热模块替换（默认开启，开发时实时更新）
  }
})

```

#### v-lazy 懒加载插件

安装

```
pnpm add vue3-lazy
```

main.js导入

```
app.use(VueLazyLoad, {
  // loading: '/src/image/placeholder.png', // 加载中占位图（可选）
  // error: '/src/image/error.png' // 加载失败占位图（可选）
})
```

使用

```vue
<!-- 使用v-lazy替代src，并设置占位图尺寸 -->
<img v-lazy="'/src/image/pictures/TOF.png'" alt="弹窗图片" class="toast-img" :style="{ minHeight: '200px' }">
```

#### render函数

工作流程

```
虚拟节点（VNode） → render 函数 → 真实 DOM
```

**模板是 `render` 函数的语法糖**

```js
import { createVNode, render } from 'vue'
import MyComponent from './MyComponent.vue'

// 1. 创建组件的虚拟节点
const vnode = createVNode(MyComponent, { 
  props: { title: '动态渲染的组件' } 
})

// 2. 创建一个DOM容器
const container = document.createElement('div')
document.body.appendChild(container)

// 3. 用render函数将虚拟节点渲染到容器
render(vnode, container) // 此时页面会显示MyComponent组件

// 4. 销毁渲染（可选）
// render(null, container) // 传入null会清空容器并销毁组件
```

